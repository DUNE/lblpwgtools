#include "services.fcl"
#include "MergeSubruns.fcl"

process_name: Merge

services:
{
  # Load the service that manages root files for histograms.
  TFileService: { fileName: "reco_hist.root" }
  scheduler:    { wantTracer: true wantSummary: true }
  message:      { debugModules: ["*"] destinations: { debugmsg:{type: "cout" threshold: "DEBUG"} } }
  TimeTracker: {}
  RandomNumberGenerator: {} #ART native random number generator
  @table::standard_services
}


source:
{
  module_type: RootInput
  maxEvents:  -1        # Number of events to create
}

outputs:
{
 out1:
 {
   module_type: RootOutput
   fileName:    "standard_reco.root" #default file name, can override from command line with -o or --output
 }
}

physics:
{
  filters:
  {
    mergesubruns:     @local::standard_mergesubruns
  }

  merge:         [ mergesubruns ] 
  stream1:       [ out1 ]
  trigger_paths: [merge] 

  end_paths:     [ stream1]  
}
